function render(t,e){function r(){d.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("transform",function(t){return"translate("+t.x+","+t.y+")"})}function n(){width=window.innerWidth/1.3,height=window.innerHeight/1.5,console.log(height),c.attr("width",width).attr("height",height),s.size([width,height]).resume()}function a(){d3.select(this).select("circle").transition().duration(750).attr("r",16)}function i(){d3.select(this).select("circle").transition().duration(750).attr("r",8)}var o={},c=d3.select(e).append("svg"),s=d3.layout.force();c.append("svg:defs").selectAll("marker").data(["end"]).enter().append("svg:marker").attr("id",String).attr("viewBox","0 -5 10 10").attr("refX",25).attr("refY",0).attr("markerWidth",4).attr("markerHeight",4).attr("orient","auto").append("svg:path").attr("d","M0,-5L10,0L0,5"),t.forEach(function(t){t.source=o[t.source]||(o[t.source]={name:t.source}),t.target=o[t.target]||(o[t.target]={name:t.target})}),s.nodes(d3.values(o)).links(t).linkDistance(70).charge(-250).on("tick",r).start();var d=c.selectAll(".link").data(s.links()).enter().append("line").attr("class","link").attr("marker-end","url(#end)");color=d3.scale.category20c();var l=c.selectAll(".node").data(s.nodes()).enter().append("g").attr("class","node").on("mouseover",a).on("mouseout",i).call(s.drag);l.append("circle").attr("r",8).style("fill",function(t){return color(t.name)}),l.append("text").attr("x",14).attr("dy",".35em").text(function(t){return t.name}),n(),d3.select(window).on("resize",n)}